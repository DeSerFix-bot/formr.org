$(function(){$("textarea.big_ace_editor").each(function(a,b){var c=$(b),d=c.data("editor"),e=$("<div>",{position:"absolute",width:"100%",height:c.height(),"class":c.attr("class")}).insertBefore(c);c.css("display","none");var f=ace.edit(e[0]);f.setOptions({minLines:c.attr("rows")?c.attr("rows"):3,maxLines:200}),f.setTheme("ace/theme/textmate");var g=f.getSession();g.setValue(c.val()),g.setUseWrapMode(!0),g.setMode("ace/mode/"+d);var h=$(this).parents("form");f.on("change",function(){h.trigger("change")}),h.on("ajax_submission",function(){c.val(g.getValue())})}),$(".save_settings").each(function(a,b){$(b).prop("disabled",!0);var c=$(this).parents("form");c.change(function(){$(b).prop("disabled",!1)}).submit(function(){return!1}),$(b).click(function(a){return c.trigger("ajax_submission"),a.preventDefault(),$.ajax({url:c.attr("action"),dataType:"html",data:c.serialize(),method:"POST"}).done(function(a){""!==a&&$(a).insertBefore(c),$(b).prop("disabled",!0)}).fail(function(a,b,c,d){ajaxErrorHandling(a,b,c,d)}),!1})})});