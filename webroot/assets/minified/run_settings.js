!function(a){"use strict";function b(b,c){var d=a(c),e=d.data("editor"),f=a("<div>",{position:"absolute",width:"100%",height:d.height(),"class":d.attr("class")}).insertBefore(d);d.css("display","none");var g=ace.edit(f[0]);g.setOptions({minLines:d.attr("rows")?d.attr("rows"):3,maxLines:200}),g.setTheme("ace/theme/textmate");var h=g.getSession();h.setValue(d.val()),h.setUseWrapMode(!0),h.setMode("ace/mode/"+e);var i=a(c).parents("form");g.on("change",function(){i.trigger("change")}),i.on("ajax_submission",function(){d.val(h.getValue())})}function c(b,c){a(c).prop("disabled",!0);var d=a(c).parents("form");d.change(function(){a(c).prop("disabled",!1)}).submit(function(){return!1}),a(c).click(function(b){return d.trigger("ajax_submission"),b.preventDefault(),a.ajax({url:d.attr("action"),dataType:"html",data:d.serialize(),method:"POST"}).done(function(b){""!==b&&a(b).insertBefore(d),a(c).prop("disabled",!0)}).fail(function(a,b,c,d){ajaxErrorHandling(a,b,c,d)}),!1})}a(function(){a("textarea.big_ace_editor").each(b),a(".save_settings").each(c)})}(jQuery);